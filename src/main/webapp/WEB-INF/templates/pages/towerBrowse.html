<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head th:include="/fragments/header :: head(title='Towers')"></head>

<body>

    <nav th:replace="/fragments/header :: navigation"></nav>

    <!-- Page Content -->
    <div class="container">

        <div class="row">

            <div th:replace="/fragments/towerListNavigation :: navigation"></div>
            
            <div class="col-md-9 mainContent">

                <div class="row">
    
                    <div class="col-sm-9 col-lg-9 col-md-9">
                    
                    	<div th:if="${countries ne null and !#lists.isEmpty(countries)}">
	    					<h4>Countries</h4>
	                        <ul>
	                            <li th:each="country : ${countries}">
	                                <a th:if="${selectedCountry ne country.name}"
	                                   th:href="@{/towers/locations/{country}(country=${country.name})}"
	                                   th:text="${country.name}"></a>
	                                <span th:if="${selectedCountry eq country.name}"
	                                   th:text="${country.name}" style="font-weight:bold"></span>
	                            </li>
	                        </ul>
                        </div>
                        
                        <div th:if="${counties ne null and !#lists.isEmpty(counties)}">
                        	<h4>Counties</h4>
	                        <ul>
	                            <li th:each="county : ${counties}">
	                                <a th:if="${selectedCounty ne county.name}"
	                                   th:href="@{/towers/locations/{country}/{county}(country=${county.country.name},county=${county.name})}"
	                                   th:text="${county.name}"></a>
                                	<span th:if="${selectedCounty eq county.name}"
                                   		  th:text="${county.name}" style="font-weight:bold"></span>
	                            </li>
	                        </ul>
                        </div>
                        
                        <div th:if="${groups ne null and !#lists.isEmpty(groups)}">
	                        <ul>
	                            <li th:each="group : ${groups}">
	                                <a th:if="${selectedGroup ne group.name}"
	                                   th:href="@{/towers/groups/{name}(name=${group.name})}"
	                                   th:text="${group.name}"></a>
                                	<span th:if="${selectedGroup eq group.name}"
                                   		  th:text="${group.name}" style="font-weight:bold"></span>
	                            </li>
	                        </ul>
                        </div>
                        
                        <div class="alert alert-warning" th:if="${towers ne null and #lists.isEmpty(towers)}">
                        	There are no towers currently registered on TowerBoard for this category.
                        </div>
    
                        <table class="table table-striped" th:unless="${#lists.isEmpty(towers)}">
    
                            <thead>
                                <tr>
                                    <th>Tower</th>
                                    <th>County</th>
                                    <th>Bells</th>
                                    <th></th>
                                </tr>
                            </thead>
    
                            <tbody>
    
                                <tr th:each="tower : ${towers}">
                                    <td>
                                        <strong th:text="${tower.town}"></strong><span th:if="${tower.dedication}" th:text="', ' + ${tower.dedication}"></span><span th:if="${tower.area}" th:text="', ' + ${tower.area}"></span>
                                    </td>
                                    <td>
                                        <span th:text="${tower.county.name}"></span>,
                                        <span th:text="${tower.county.country.name}"></span>
                                    </td>
                                    <td>
                                        <strong th:text="${tower.numBells}">10</strong>,
                                        <span th:text="${tower.tenorWeight}"></span>
                                    </td>
                                    <td>
                                        <a class="btn btn-primary pull-right"
                                           th:href="@{/tower/{identifier}/notices(identifier=${tower.identifier})}">View</a>
                                    </td>
                                </tr>
    
                            </tbody>
    
                        </table>
    
                    </div>
    
                </div>
                
            </div>

        </div>

    </div>
    <!-- /.container -->

    <div th:include="/fragments/footer"></div>

</body>

</html>
